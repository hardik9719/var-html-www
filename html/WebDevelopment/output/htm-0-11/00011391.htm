<html>
<head>
<title>The title</title>
<link rel="stylesheet" href="blah.css" type="text/css" id="l1">
</head>
<body>
<custom-dashed-tag class="dashed" id="dash1">Hello there.</custom-dashed-tag>
<div id="main" class="fancy">
<div id="inner">
<h1 id="header1">An H1</h1>
<p>Some text</p>
<p class="onep" id="p1">Some more text</p>
<h2 id="header2">An H2</h2>
<p class="class1 class2 class3" id="pmulti">Another</p>
<a href="http://bob.example.org/" rel="friend met" id="bob">Bob</a>
<h2 id="header3">Another H2</h2>
<a id="me" href="http://simonwillison.net/" rel="me">me</a>
<span class="s1">
<a href="#" id="s1a1">span1a1</a>
<a href="#" id="s1a2">span1a2 <span id="s1a2s1">test</span></a>
<span class="span2">
<a href="#" id="s2a1">span2a1</a>
</span>
<span class="span3"></span>
<custom-dashed-tag class="dashed" id="dash2"/>
<div data-tag="dashedvalue" id="data1"/>
</span>
</div>
<x id="xid">
<z id="zida"/>
<z id="zidab"/>
<z id="zidac"/>
</x>
<y id="yid">
<z id="zidb"/>
</y>
<p lang="en" id="lang-en">English</p>
<p lang="en-gb" id="lang-en-gb">English UK</p>
<p lang="en-us" id="lang-en-us">English US</p>
<p lang="fr" id="lang-fr">French</p>
</div>

<div id="footer">
</div>
"""

    def setUp(self):
        self.soup = BeautifulSoup(self.HTML, 'html.parser')

    def assertSelects(self, selector, expected_ids, **kwargs):
        el_ids = [el['id'] for el in self.soup.select(selector, **kwargs)]
        el_ids.sort()
        expected_ids.sort()
        self.assertEqual(expected_ids, el_ids,
            "Selector %s, expected [%s], got [%s]" % (
                selector, ', '.join(expected_ids), ', '.join(el_ids)
            )
        )

    assertSelect = assertSelects

    def assertSelectMultiple(self, *tests):
        for selector, expected_ids in tests:
            self.assertSelect(selector, expected_ids)

    def test_one_tag_one(self):
        els = self.soup.select('title')
        self.assertEqual(len(els), 1)
        self.assertEqual(els[0].name, 'title')
        self.assertEqual(els[0].contents, ['The title'])

    def test_one_tag_many(self):
        els = self.soup.select('div')
        self.assertEqual(len(els), 4)
        for div in els:
            self.assertEqual(div.name, 'div')

        el = self.soup.select_one('div')
        self.assertEqual('main', el['id'])

    def test_select_one_returns_none_if_no_match(self):
        match = self.soup.select_one('nonexistenttag')
        self.assertEqual(None, match)


    def test_tag_in_tag_one(self):
        els = self.soup.select('div div')
        self.assertSelects('div div', ['inner', 'data1'])

    def test_tag_in_tag_many(self):
        for selector in ('html div', 'html body div', 'body div'):
            self.assertSelects(selector, ['data1', 'main', 'inner', 'footer'])


    def test_limit(self):
        self.assertSelects('html div', ['main'], limit=1)
        self.assertSelects('html body div', ['inner', 'main'], limit=2)
        self.assertSelects('body div', ['data1', 'main', 'inner', 'footer'],
                           limit=10)

    def test_tag_no_match(self):
        self.assertEqual(len(self.soup.select('del')), 0)

    def test_invalid_tag(self):
        self.assertRaises(ValueError, self.soup.select, 'tag%t')

    def test_select_dashed_tag_ids(self):
        self.assertSelects('custom-dashed-tag', ['dash1', 'dash2'])

    def test_select_dashed_by_id(self):
        dashed = self.soup.select('custom-dashed-tag[id=\"dash2\"]')
        self.assertEqual(dashed[0].name, 'custom-dashed-tag')
        self.assertEqual(dashed[0]['id'], 'dash2')

    def test_dashed_tag_text(self):
        self.assertEqual(self.soup.select('body > custom-dashed-tag')[0].text, 'Hello there.')

    def test_select_dashed_matches_find_all(self):
        self.assertEqual(self.soup.select('custom-dashed-tag'), self.soup.find_all('custom-dashed-tag'))

    def test_header_tags(self):
        self.assertSelectMultiple(
            ('h1', ['header1']),
            ('h2', ['header2', 'header3']),
        )

    def test_class_one(self):
        for selector in ('.onep', 'p.onep', 'html p.onep'):
            els = self.soup.select(selector)
            self.assertEqual(len(els), 1)
            self.assertEqual(els[0].name, 'p')
            self.assertEqual(els[0]['class'], ['onep'])

    def test_class_mismatched_tag(self):
        els = self.soup.select('div.onep')
        self.assertEqual(len(els), 0)

    def test_one_id(self):
        for selector in ('div#inner', '#inner', 'div div#inner'):
            self.assertSelects(selector, ['inner'])

    def test_bad_id(self):
        els = self.soup.select('#doesnotexist')
        self.assertEqual(len(els), 0)

    def test_items_in_id(self):
        els = self.soup.select('div#inner p')
        self.assertEqual(len(els), 3)
        for el in els:
            self.assertEqual(el.name, 'p')
        self.assertEqual(els[1]['class'], ['onep'])
        self.assertFalse(els[0].has_attr('class'))

    def test_a_bunch_of_emptys(self):
        for selector in ('div#main del', 'div#main div.oops', 'div div#main'):
            self.assertEqual(len(self.soup.select(selector)), 0)

    def test_multi_class_support(self):
        for selector in ('.class1', 'p.class1', '.class2', 'p.class2',
            '.class3', 'p.class3', 'html p.class2', 'div#inner .class2'):
            self.assertSelects(selector, ['pmulti'])

    def test_multi_class_selection(self):
        for selector in ('.class1.class3', '.class3.class2',
                         '.class1.class2.class3'):
            self.assertSelects(selector, ['pmulti'])

    def test_child_selector(self):
        self.assertSelects('.s1 > a', ['s1a1', 's1a2'])
        self.assertSelects('.s1 > a span', ['s1a2s1'])

    def test_child_selector_id(self):
        self.assertSelects('.s1 > a#s1a2 span', ['s1a2s1'])

    def test_attribute_equals(self):
        self.assertSelectMultiple(
            ('p[class="onep"]', ['p1']),
            ('p[id="p1"]', ['p1']),
            ('[class="onep"]', ['p1']),
            ('[id="p1"]', ['p1']),
            ('link[rel="stylesheet"]', ['l1']),
            ('link[type="text/css"]', ['l1']),
            ('link[href="blah.css"]', ['l1']),
            ('link[href="no-blah.css"]', []),
            ('[rel="stylesheet"]', ['l1']),
            ('[type="text/css"]', ['l1']),
            ('[href="blah.css"]', ['l1']),
            ('[href="no-blah.css"]', []),
            ('p[href="no-blah.css"]', []),
            ('[href="no-blah.css"]', []),
        )

    def test_attribute_tilde(self):
        self.assertSelectMultiple(
            ('p[class~="class1"]', ['pmulti']),
            ('p[class~="class2"]', ['pmulti']),
            ('p[class~="class3"]', ['pmulti']),
            ('[class~="class1"]', ['pmulti']),
            ('[class~="class2"]', ['pmulti']),
            ('[class~="class3"]', ['pmulti']),
            ('a[rel~="friend"]', ['bob']),
            ('a[rel~="met"]', ['bob']),
            ('[rel~="friend"]', ['bob']),
            ('[rel~="met"]', ['bob']),
        )

    def test_attribute_startswith(self):
        self.assertSelectMultiple(
            ('[rel^="style"]', ['l1']),
            ('link[rel^="style"]', ['l1']),
            ('notlink[rel^="notstyle"]', []),
            ('[rel^="notstyle"]', []),
            ('link[rel^="notstyle"]', []),
            ('link[href^="bla"]', ['l1']),
            ('a[href^="http://"]', ['bob', 'me']),
            ('[href^="http://"]', ['bob', 'me']),
            ('[id^="p"]', ['pmulti', 'p1']),
            ('[id^="m"]', ['me', 'main']),
            ('div[id^="m"]', ['main']),
            ('a[id^="m"]', ['me']),
            ('div[data-tag^="dashed"]', ['data1'])
        )

    def test_attribute_endswith(self):
        self.assertSelectMultiple(
            ('[href$=".css"]', ['l1']),
            ('link[href$=".css"]', ['l1']),
            ('link[id$="1"]', ['l1']),
            ('[id$="1"]', ['data1', 'l1', 'p1', 'header1', 's1a1', 's2a1', 's1a2s1', 'dash1']),
            ('div[id$="1"]', ['data1']),
            ('[id$="noending"]', []),
        )

    def test_attribute_contains(self):
        self.assertSelectMultiple(
            # From test_attribute_startswith
            ('[rel*="style"]', ['l1']),
            ('link[rel*="style"]', ['l1']),
            ('notlink[rel*="notstyle"]', []),
            ('[rel*="notstyle"]', []),
            ('link[rel*="notstyle"]', []),
            ('link[href*="bla"]', ['l1']),
            ('[href*="http://"]', ['bob', 'me']),
            ('[id*="p"]', ['pmulti', 'p1']),
            ('div[id*="m"]', ['main']),
            ('a[id*="m"]', ['me']),
            # From test_attribute_endswith
            ('[href*=".css"]', ['l1']),
            ('link[href*=".css"]', ['l1']),
            ('link[id*="1"]', ['l1']),
            ('[id*="1"]', ['data1', 'l1', 'p1', 'header1', 's1a1', 's1a2', 's2a1', 's1a2s1', 'dash1']),
            ('div[id*="1"]', ['data1']),
            ('[id*="noending"]', []),
            # New for this test
            ('[href*="."]', ['bob', 'me', 'l1']),
            ('a[href*="."]', ['bob', 'me']),
            ('link[href*="."]', ['l1']),
            ('div[id*="n"]', ['main', 'inner']),
            ('div[id*="nn"]', ['inner']),
            ('div[data-tag*="edval"]', ['data1'])
        )

    def test_attribute_exact_or_hypen(self):
        self.assertSelectMultiple(
            ('p[lang|="en"]', ['lang-en', 'lang-en-gb', 'lang-en-us']),
            ('[lang|="en"]', ['lang-en', 'lang-en-gb', 'lang-en-us']),
            ('p[lang|="fr"]', ['lang-fr']),
            ('p[lang|="gb"]', []),
        )

    def test_attribute_exists(self):
        self.assertSelectMultiple(
            ('[rel]', ['l1', 'bob', 'me']),
            ('link[rel]', ['l1']),
            ('a[rel]', ['bob', 'me']),
            ('[lang]', ['lang-en', 'lang-en-gb', 'lang-en-us', 'lang-fr']),
            ('p[class]', ['p1', 'pmulti']),
            ('[blah]', []),
            ('p[blah]', []),
            ('div[data-tag]', ['data1'])
        )

    def test_quoted_space_in_selector_name(self):
        html = """<div style="display: wrong">nope</div>
        <div style="display: right">yes</div>
        """
        soup = BeautifulSoup(html, 'html.parser')
        [chosen] = soup.select('div[style="display: right"]')
        self.assertEqual("yes", chosen.string)

    def test_unsupported_pseudoclass(self):
        self.assertRaises(
            NotImplementedError, self.soup.select, "a:no-such-pseudoclass")

        self.assertRaises(
            NotImplementedError, self.soup.select, "a:nth-of-type(a)")


    def test_nth_of_type(self):
        # Try to select first paragraph
        els = self.soup.select('div#inner p:nth-of-type(1)')
        self.assertEqual(len(els), 1)
        self.assertEqual(els[0].string, 'Some text')

        # Try to select third paragraph
        els = self.soup.select('div#inner p:nth-of-type(3)')
        self.assertEqual(len(els), 1)
        self.assertEqual(els[0].string, 'Another')

        # Try to select (non-existent!) fourth paragraph
        els = self.soup.select('div#inner p:nth-of-type(4)')
        self.assertEqual(len(els), 0)

        # Pass in an invalid value.
        self.assertRaises(
            ValueError, self.soup.select, 'div p:nth-of-type(0)')

    def test_nth_of_type_direct_descendant(self):
        els = self.soup.select('div#inner > p:nth-of-type(1)')
        self.assertEqual(len(els), 1)
        self.assertEqual(els[0].string, 'Some text')

    def test_id_child_selector_nth_of_type(self):
        self.assertSelects('#inner > p:nth-of-type(2)', ['p1'])

    def test_select_on_element(self):
        # Other tests operate on the tree; this operates on an element
        # within the tree.
        inner = self.soup.find("div", id="main")
        selected = inner.select("div")
        # The <div id="inner"> tag was selected. The <div id="footer">
        # tag was not.
        self.assertSelectsIDs(selected, ['inner', 'data1'])

    def test_overspecified_child_id(self):
        self.assertSelects(".fancy #inner", ['inner'])
        self.assertSelects(".normal #inner", [])

    def test_adjacent_sibling_selector(self):
        self.assertSelects('#p1 + h2', ['header2'])
        self.assertSelects('#p1 + h2 + p', ['pmulti'])
        self.assertSelects('#p1 + #header2 + .class1', ['pmulti'])
        self.assertEqual([], self.soup.select('#p1 + p'))

    def test_general_sibling_selector(self):
        self.assertSelects('#p1 ~ h2', ['header2', 'header3'])
        self.assertSelects('#p1 ~ #header2', ['header2'])
        self.assertSelects('#p1 ~ h2 + a', ['me'])
        self.assertSelects('#p1 ~ h2 + [rel="me"]', ['me'])
        self.assertEqual([], self.soup.select('#inner ~ h2'))

    def test_dangling_combinator(self):
        self.assertRaises(ValueError, self.soup.select, 'h1 >')

    def test_sibling_combinator_wont_select_same_tag_twice(self):
        self.assertSelects('p[lang] ~ p', ['lang-en-gb', 'lang-en-us', 'lang-fr'])

    # Test the selector grouping operator (the comma)
    def test_multiple_select(self):
        self.assertSelects('x, y', ['xid', 'yid'])

    def test_multiple_select_with_no_space(self):
        self.assertSelects('x,y', ['xid', 'yid'])

    def test_multiple_select_with_more_space(self):
        self.assertSelects('x,    y', ['xid', 'yid'])

    def test_multiple_select_duplicated(self):
        self.assertSelects('x, x', ['xid'])

    def test_multiple_select_sibling(self):
        self.assertSelects('x, y ~ p[lang=fr]', ['xid', 'lang-fr'])

    def test_multiple_select_tag_and_direct_descendant(self):
        self.assertSelects('x, y > z', ['xid', 'zidb'])

    def test_multiple_select_direct_descendant_and_tags(self):
        self.assertSelects('div > x, y, z', ['xid', 'yid', 'zida', 'zidb', 'zidab', 'zidac'])

    def test_multiple_select_indirect_descendant(self):
        self.assertSelects('div x,y,  z', ['xid', 'yid', 'zida', 'zidb', 'zidab', 'zidac'])

    def test_invalid_multiple_select(self):
        self.assertRaises(ValueError, self.soup.select, ',x, y')
        self.assertRaises(ValueError, self.soup.select, 'x,,y')

    def test_multiple_select_attrs(self):
        self.assertSelects('p[lang=en], p[lang=en-gb]', ['lang-en', 'lang-en-gb'])

    def test_multiple_select_ids(self):
        self.assertSelects('x, y > z[id=zida], z[id=zidab], z[id=zidb]', ['xid', 'zidb', 'zidab'])

    def test_multiple_select_nested(self):
        self.assertSelects('body > div > x, y > z', ['xid', 'zidb'])



                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  
ËÿCN   „               @   s
   d  Z  d S)zThe beautifulsoup tests.N)⁄__doc__© r   r   ˙4/usr/lib/python3/dist-packages/bs4/tests/__init__.py⁄<module>   s                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
cÑTŒ  „               @   s   d  Z  d d l Z d d l Z d d l m Z d d l m Z m Z m	 Z	 y d d l m
 Z
 d Z Wn e k
 r~ d Z Yn Xy  d d l m Z m Z d Z Wn e k
 rπ d Z Yn XGd	 d
 Ñ  d
 e j É Z Gd d Ñ  d e j É Z d S)zTests of the builder registry.È    N)⁄BeautifulSoup)⁄builder_registry⁄HTMLParserTreeBuilder⁄TreeBuilderRegistry)⁄HTML5TreeBuilderTF)⁄LXMLTreeBuilderForXML⁄LXMLTreeBuilderc               @   sF   e  Z d  Z d Z d d Ñ  Z d d Ñ  Z d d Ñ  Z d d	 Ñ  Z d
 S)⁄BuiltInRegistryTestz@Test the built-in registry with the default builders registered.c             C   sÜ   t  r" |  j t j d d É t É t  rD |  j t j d d É t É |  j t j d d É t É t rÇ |  j t j d d É t É d  S)N⁄fast⁄htmlZ
permissive⁄xml⁄strict⁄html5lib)	⁄LXML_PRESENT⁄assertEqual⁄registry⁄lookupr   r   r   ⁄HTML5LIB_PRESENTr   )⁄self© r   ˙A/usr/lib/python3/dist-packages/bs4/tests/test_builder_registry.py⁄test_combination    s    z$BuiltInRegistryTest.test_combinationc             C   sì   t  r; |  j t j d É t É |  j t j d É t É nT |  j t j d É d  É t rv |  j t j d É t É n |  j t j d É t É d  S)Nr   r   )	r   r   r   r   r   r   r   r   r   )r   r   r   r   ⁄test_lookup_by_markup_type.   s    z.BuiltInRegistryTest.test_lookup_by_markup_typec             C   sz   t  r> |  j t j d d É t É |  j t j d d É t É t r] |  j t j d É t É |  j t j d É t É d  S)NZlxmlr   r   r   zhtml.parser)	r   r   r   r   r   r   r   r   r   )r   r   r   r   ⁄test_named_library9   s    z&BuiltInRegistryTest.test_named_libraryc             C   s_   t  j d d É è- } t d d d Ét d d d d g ÉWd  QRX|  j t t d d d Éd  S)N⁄recordT⁄ ⁄featuresr   r
   zno-such-feature)⁄warnings⁄catch_warningsr   ZassertRaises⁄
ValueError)r   ⁄wr   r   r   ⁄*test_beautifulsoup_constructor_does_lookupF   s
    z>BuiltInRegistryTest.test_beautifulsoup_constructor_does_lookupN)⁄__name__⁄
__module__⁄__qualname__⁄__doc__r   r   r   r!   r   r   r   r   r	      s
   r	   c               @   sÇ   e  Z d  Z d Z d d Ñ  Z d d Ñ  Z d d Ñ  Z d d	 Ñ  Z d
 d Ñ  Z d d Ñ  Z	 d d Ñ  Z
 d d Ñ  Z d d Ñ  Z d S)⁄RegistryTestz.Test the TreeBuilderRegistry class in general.c             C   s   t  É  |  _ d  S)N)r   r   )r   r   r   r   ⁄setUpY   s    zRegistryTest.setUpc             G   s<   t  d d j | É t f d | i É } |  j j | É | S)NZBuilder_⁄_r   )⁄type⁄join⁄objectr   ⁄register)r   Zfeature_list⁄clsr   r   r   ⁄builder_for_features\   s    z!RegistryTest.builder_for_featuresc             C   sE   |  j  É  } |  j |  j j d É d  É |  j |  j j É  | É d  S)N⁄foo)r.   r   r   r   )r   ⁄builderr   r   r   ⁄test_register_with_no_featuresc   s    z+RegistryTest.test_register_with_no_featuresc             C   sN   |  j  d d É } |  j |  j j d É | É |  j |  j j d É | É d  S)Nr/   ⁄bar)r.   r   r   r   )r   r0   r   r   r   ⁄0test_register_with_features_makes_lookup_succeedn   s    z=RegistryTest.test_register_with_features_makes_lookup_succeedc             C   s2   |  j  d d É } |  j |  j j d É d  É d  S)Nr/   r2   ⁄baz)r.   r   r   r   )r   r0   r   r   r   ⁄4test_lookup_fails_when_no_builder_implements_features   s    zARegistryTest.test_lookup_fails_when_no_builder_implements_featurec             C   s;   |  j  d É } |  j  d É } |  j |  j j É  | É d  S)Nr/   r2   )r.   r   r   r   )r   ⁄builder1⁄builder2r   r   r   ⁄Ctest_lookup_gets_most_recent_registration_when_no_feature_specifiedw   s    zPRegistryTest.test_lookup_gets_most_recent_registration_when_no_feature_specifiedc             C   s   |  j  |  j j É  d  É d  S)N)r   r   r   )r   r   r   r   ⁄2test_lookup_fails_when_no_tree_builders_registered|   s    z?RegistryTest.test_lookup_fails_when_no_tree_builders_registeredc             C   s´   |  j  d É } |  j  d É } |  j  d d d É } |  j  d d d É } |  j  d É } |  j  d É } |  j |  j j d d É | É |  j |  j j d d d É | É d  S)Nr/   r2   r4   Zquux)r.   r   r   r   )r   Zhas_oneZhas_the_otherZhas_both_earlyZhas_both_lateZ	lacks_oner   r   r   ⁄<test_lookup_gets_most_recent_builder_supporting_all_features   s    zIRegistryTest.test_lookup_gets_most_recent_builder_supporting_all_featuresc             C   sG   |  j  d d É } |  j  d d É } |  j |  j j d d É d  É d  S)Nr/   r2   r4   )r.   r   r   r   )r   r6   r7   r   r   r   ⁄:test_lookup_fails_when_cannot_reconcile_requested_featuresê   s    zGRegistryTest.test_lookup_fails_when_cannot_reconcile_requested_featuresN)r"   r#   r$   r%   r'   r.   r1   r3   r5   r8   r9   r:   r;   r   r   r   r   r&   V   s   r&   )r%   Zunittestr   Zbs4r   Zbs4.builderr   r   r   r   r   r   ⁄ImportErrorr   r   r   ZTestCaser	   r&   r   r   r   r   ⁄<module>   s    

9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            
ñë¢O+  „               @   s`   d  Z  e Z d g Z d d l Z d d l Z d d l Z d d l Z e j e j	 Be j
 BZ d S)zTest harness for doctests.Zadditional_testsÈ    N)⁄__doc__⁄typeZ__metaclass__⁄__all__⁄atexitZdoctest⁄osZunittest⁄ELLIPSISZNORMALIZE_WHITESPACEZREPORT_NDIFFZDOCTEST_FLAGS© r   r   ˙5/usr/lib/python3/dist-packages/bs4/tests/test_docs.py⁄<module>   s   	                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         
∆PêUÍ  „               @   se   d  Z  d d l m Z d d l Z d d l m Z m Z d d l m Z Gd d Ñ  d e e É Z	 d S)zGTests to ensure that the html.parser tree builder generates good
trees.È    )⁄	set_traceN)⁄SoupTest⁄HTMLTreeBuilderSmokeTest)⁄HTMLParserTreeBuilderc               @   sF   e  Z d  Z e d d Ñ  É Z d d Ñ  Z d d Ñ  Z d d Ñ  Z d	 S)
⁄HTMLParserTreeBuilderSmokeTestc             C   s   t  É  S)N)r   )⁄self© r   ˙;/usr/lib/python3/dist-packages/bs4/tests/test_htmlparser.py⁄default_builder   s    z.HTMLParserTreeBuilderSmokeTest.default_builderc             C   s   d  S)Nr   )r   r   r   r	   ⁄test_namespaced_system_doctype   s    z=HTMLParserTreeBuilderSmokeTest.test_namespaced_system_doctypec             C   s   d  S)Nr   )r   r   r   r	   ⁄test_namespaced_public_doctype   s    z=HTMLParserTreeBuilderSmokeTest.test_namespaced_public_doctypec             C   sV   |  j  d É } t j | d É } t j | É } |  j t | j t | j É É É d S)zfUnlike most tree builders, HTMLParserTreeBuilder and will
        be restored after pickling.
        z<a><b>foo</a>È   N)Zsoup⁄pickle⁄dumps⁄loadsZ
assertTrue⁄
isinstanceZbuilder⁄type)r   ZtreeZdumpedZloadedr   r   r	   ⁄test_builder_is_pickled   s    z6HTMLParserTreeBuilderSmokeTest.test_builder_is_pickledN)⁄__name__⁄
__module__⁄__qualname__⁄propertyr
   r   r   r   r   r   r   r	   r   	   s   r   )
⁄__doc__Zpdbr   r   Zbs4.testingr   r   Zbs4.builderr   r   r   r   r   r	   ⁄<module>   s
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           
`ÍqX+  „               @   s≥   d  Z  d d l Z y d d l m Z d Z Wn+ e k
 rY Z z d Z WYd d Z [ Xn Xd d l m Z d d l	 m
 Z
 m Z m Z e e d É Gd	 d
 Ñ  d
 e e
 É É Z d S)zDTests to ensure that the html5lib tree builder generates good trees.È    N)⁄HTML5TreeBuilderTF)⁄SoupStrainer)⁄HTML5TreeBuilderSmokeTest⁄SoupTest⁄skipIfz?html5lib seems not to be present, not testing its tree builder.c               @   s†   e  Z d  Z d Z e d d Ñ  É Z d d Ñ  Z d d Ñ  Z d d	 Ñ  Z d
 d Ñ  Z	 d d Ñ  Z
 d d Ñ  Z d d Ñ  Z d d Ñ  Z d d Ñ  Z d d Ñ  Z d S)⁄HTML5LibBuilderSmokeTestz"See ``HTML5TreeBuilderSmokeTest``.c             C   s   t  É  S)N)r   )⁄self© r	   ˙9/usr/lib/python3/dist-packages/bs4/tests/test_html5lib.py⁄default_builder   s    z(HTML5LibBuilderSmokeTest.default_builderc             C   sÜ   t  d É } d } t j d d É è } |  j | d | É} Wd  QRX|  j | j É  |  j | É É |  j d t | d j	 É k É d  S)N⁄bz<p>A <b>bold</b> statement.</p>⁄recordTZ
parse_onlyz4the html5lib tree builder doesn't support parse_onlyr   )
r   ⁄warnings⁄catch_warnings⁄soup⁄assertEqual⁄decodeZdocument_forZ
assertTrue⁄str⁄message)r   Zstrainer⁄markup⁄wr   r	   r	   r
   ⁄test_soupstrainer   s    z*HTML5LibBuilderSmokeTest.test_soupstrainerc             C   s'   d } |  j  | d É |  j  d É d S)z8html5lib inserts <tbody> tags where other parsers don't.z[<table id="1"><tr><td>Here's another table:<table id="2"><tr><td>foo</td></tr></table></td>zÜ<table id="1"><tbody><tr><td>Here's another table:<table id="2"><tbody><tr><td>foo</td></tr></tbody></table></td></tr></tbody></table>z{<table><thead><tr><td>Foo</td></tr></thead><tbody><tr><td>Bar</td></tr></tbody><tfoot><tr><td>Baz</td></tr></tfoot></table>N)ZassertSoupEquals)r   r   r	   r	   r
   ⁄test_correctly_nested_tables(   s    z5HTML5LibBuilderSmokeTest.test_correctly_nested_tablesc             C   s2   d } |  j  | É } |  j d | j j É  É d  S)Nzy<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html>
  <head>
  </head>
  <body>
   <p>foo</p>
  </body>
</html>