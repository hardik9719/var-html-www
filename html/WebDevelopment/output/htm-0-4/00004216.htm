<html><h1 class="refsect1">LEAD_VARIANCE</h1>
<p><code>LEAD_VARIANCE</code> returns the difference between values for the current time period and the offset period.</p>
<p class="titleinrefsubsect"><a id="sthref215" name="sthref215"></a>Return Value</p>
<p>The same data type as the value expression</p>
<p class="titleinrefsubsect"><a id="sthref216" name="sthref216"></a>Syntax</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="bold">LEAD_VARIANCE (</span>lead_args<span class="bold">) OVER (</span>lead_clause<span class="bold">)</span>
</pre>
<p><span class="bolditalic">lead_args</span>::=</p>
<pre xml:space="preserve" class="oac_no_warn">expression, offset [, {default_expression | <span class="bold">CLOSEST</span>} ]
</pre>
<p><span class="bolditalic">lead_clause</span>::=</p>
<pre xml:space="preserve" class="oac_no_warn">[ {<span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id} ]
[ [<span class="bold">BY</span>] { <span class="bold">LEVEL</span> 
       | <span class="bold">PARENT</span> 
       | <span class="bold">GREGORIAN</span> {<span class="bold">YEAR</span> | <span class="bold">QUARTER</span> | <span class="bold">MONTH</span> | <span class="bold">WEEK</span> | <span class="bold">DAY</span>}
       | <span class="bold">ANCESTOR AT</span> { <span class="bold">DIMENSION LEVEL</span> dim_level_id
                      | <span class="bold">HIERARCHY LEVEL</span> hier_level_id
                      }
       }
                [<span class="bold">POSITION FROM</span> {<span class="bold">BEGINNING</span> | <span class="bold">END</span>}] 
] 
</pre>
<p class="titleinrefsubsect"><a id="sthref217" name="sthref217"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS285" name="OLAXS285"></a><a id="sthref218" name="sthref218"></a><span class="italic">expression</span></p>
<p>A dimensional expression whose values you want to calculate.</p>
<p class="subhead2"><a id="OLAXS286" name="OLAXS286"></a><a id="sthref219" name="sthref219"></a><span class="italic">offset</span></p>
<p>A numeric expression for the number of periods to count forward from the current time period.</p>
<p class="subhead2"><a id="OLAXS287" name="OLAXS287"></a><a id="sthref220" name="sthref220"></a><span class="italic">default_expression</span></p>
<p>The value returned when <code><span class="codeinlineitalic">offset</span></code> does not identify a valid period. This clause is either an expression of any data type or the <code>CLOSEST</code> keyword for the closest match. The closest match is the first member when counting forward.</p>
<p class="subhead2"><a id="OLAXS288" name="OLAXS288"></a><a id="sthref221" name="sthref221"></a><span class="italic">dimension_id</span></p>
<p>The Time dimension over which the lead is calculated.</p>
<p class="subhead2"><a id="OLAXS289" name="OLAXS289"></a><a id="sthref222" name="sthref222"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the lead is calculated. Otherwise, the default hierarchy for <code><span class="codeinlineitalic">dimension_id</span></code> is used.</p>
<p class="subhead2"><a id="OLAXS290" name="OLAXS290"></a><a id="sthref223" name="sthref223"></a><span class="italic">dim_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS291" name="OLAXS291"></a><a id="sthref224" name="sthref224"></a><span class="italic">hier_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS292" name="OLAXS292"></a><a id="sthref225" name="sthref225"></a>BY subclause</p>
<p>The BY subclause identifies the range of time periods used when counting the offset. Following are descriptions of the keywords:</p>
<div class="inftblinformal">
<table class="Informal" title="LEAD_VARIANCE Offset Units" summary="Offset units in LEAD BY clause" dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="32%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t23">Offset Unit</th>
<th align="left" valign="bottom" id="r1c2-t23">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t23" headers="r1c1-t23"><code>LEVEL</code></td>
<td align="left" headers="r2c1-t23 r1c2-t23">The member at the same level <code><span class="codeinlineitalic">offset</span></code> periods after the current member. (Default)</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t23" headers="r1c1-t23"><code>PARENT</code></td>
<td align="left" headers="r3c1-t23 r1c2-t23">The member at the same level with the same parent <code><span class="codeinlineitalic">offset</span></code> periods after the current member.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t23" headers="r1c1-t23"><code>GREGORIAN YEAR</code></td>
<td align="left" headers="r4c1-t23 r1c2-t23">The period at the same level with a start date exactly <code>offset</code> years after the start date of the current period.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t23" headers="r1c1-t23"><code>GREGORIAN QUARTER</code></td>
<td align="left" headers="r5c1-t23 r1c2-t23">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> quarters after the start date of the current period.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t23" headers="r1c1-t23"><code>GREGORIAN MONTH</code></td>
<td align="left" headers="r6c1-t23 r1c2-t23">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> months after the start date of the current period.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t23" headers="r1c1-t23"><code>GREGORIAN WEEK</code></td>
<td align="left" headers="r7c1-t23 r1c2-t23">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> weeks after the start date of the current period.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r8c1-t23" headers="r1c1-t23"><code>GREGORIAN DAY</code></td>
<td align="left" headers="r8c1-t23 r1c2-t23">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> days after the start date of the current period.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r9c1-t23" headers="r1c1-t23"><code>ANCESTOR</code></td>
<td align="left" headers="r9c1-t23 r1c2-t23">The period at the same level as the current period and whose ancestor is <code><span class="codeinlineitalic">offset</span></code> positions after the ancestor of the current period.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p class="titleinrefsubsect"><a id="sthref226" name="sthref226"></a>Examples</p>
<p>This calculation returns the difference between the current value and the value of the next time period based on calendar quarter. The sample output from this calculation appears in the Difference column.</p>
<p><code>LEAD_VARIANCE (GLOBAL.UNITS_CUBE.UNITS, 1, CLOSEST) OVER (DIMENSION GLOBAL.TIME BY ANCESTOR AT DIMENSION LEVEL GLOBAL.TIME.CALENDAR_QUARTER)</code></p>
<p>This calculation generates the data in the Percent column.</p>
<div class="inftblinformal">
<table class="Informal" title="LEAD_VARIANCE Example" summary="Output from LEAD_VARIANCE example" dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="*" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t24">Time</th>
<th align="left" valign="bottom" id="r1c2-t24">Parent</th>
<th align="left" valign="bottom" id="r1c3-t24">Units</th>
<th align="left" valign="bottom" id="r1c4-t24">Next Qtr</th>
<th align="left" valign="bottom" id="r1c5-t24">Difference</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t24" headers="r1c1-t24"><code>2005</code></td>
<td align="left" headers="r2c1-t24 r1c2-t24">TOTAL</td>
<td align="left" headers="r2c1-t24 r1c3-t24">565718</td>
<td align="left" headers="r2c1-t24 r1c4-t24">--</td>
<td align="left" headers="r2c1-t24 r1c5-t24">--</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t24" headers="r1c1-t24"><code>Q1-05</code></td>
<td align="left" headers="r3c1-t24 r1c2-t24">CY2005</td>
<td align="left" headers="r3c1-t24 r1c3-t24">143607</td>
<td align="left" headers="r3c1-t24 r1c4-t24">138096</td>
<td align="left" headers="r3c1-t24 r1c5-t24">5511</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t24" headers="r1c1-t24"><code>Q2-05</code></td>
<td align="left" headers="r4c1-t24 r1c2-t24">CY2005</td>
<td align="left" headers="r4c1-t24 r1c3-t24">138096</td>
<td align="left" headers="r4c1-t24 r1c4-t24">138953</td>
<td align="left" headers="r4c1-t24 r1c5-t24">-857</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t24" headers="r1c1-t24"><code>Q3-05</code></td>
<td align="left" headers="r5c1-t24 r1c2-t24">CY2005</td>
<td align="left" headers="r5c1-t24 r1c3-t24">138953</td>
<td align="left" headers="r5c1-t24 r1c4-t24">145062</td>
<td align="left" headers="r5c1-t24 r1c5-t24">-6109</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t24" headers="r1c1-t24"><code>Q4-05</code></td>
<td align="left" headers="r6c1-t24 r1c2-t24">CY2005</td>
<td align="left" headers="r6c1-t24 r1c3-t24">145062</td>
<td align="left" headers="r6c1-t24 r1c4-t24">146819</td>
<td align="left" headers="r6c1-t24 r1c5-t24">-1757</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t24" headers="r1c1-t24"><code>Jan-05</code></td>
<td align="left" headers="r7c1-t24 r1c2-t24">CY2005.Q1</td>
<td align="left" headers="r7c1-t24 r1c3-t24">50098</td>
<td align="left" headers="r7c1-t24 r1c4-t24">40223</td>
<td align="left" headers="r7c1-t24 r1c5-t24">9875</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r8c1-t24" headers="r1c1-t24"><code>Feb-05</code></td>
<td align="left" headers="r8c1-t24 r1c2-t24">CY2005.Q1</td>
<td align="left" headers="r8c1-t24 r1c3-t24">43990</td>
<td align="left" headers="r8c1-t24 r1c4-t24">45477</td>
<td align="left" headers="r8c1-t24 r1c5-t24">-1487</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r9c1-t24" headers="r1c1-t24"><code>Mar-05</code></td>
<td align="left" headers="r9c1-t24 r1c2-t24">CY2005.Q1</td>
<td align="left" headers="r9c1-t24 r1c3-t24">49519</td>
<td align="left" headers="r9c1-t24 r1c4-t24">52396</td>
<td align="left" headers="r9c1-t24 r1c5-t24">-2877</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r10c1-t24" headers="r1c1-t24"><code>Apr-05</code></td>
<td align="left" headers="r10c1-t24 r1c2-t24">CY2005.Q2</td>
<td align="left" headers="r10c1-t24 r1c3-t24">40223</td>
<td align="left" headers="r10c1-t24 r1c4-t24">45595</td>
<td align="left" headers="r10c1-t24 r1c5-t24">-5372</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r11c1-t24" headers="r1c1-t24"><code>May-05</code></td>
<td align="left" headers="r11c1-t24 r1c2-t24">CY2005.Q2</td>
<td align="left" headers="r11c1-t24 r1c3-t24">45477</td>
<td align="left" headers="r11c1-t24 r1c4-t24">46882</td>
<td align="left" headers="r11c1-t24 r1c5-t24">-1405</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r12c1-t24" headers="r1c1-t24"><code>Jun-05</code></td>
<td align="left" headers="r12c1-t24 r1c2-t24">CY2005.Q2</td>
<td align="left" headers="r12c1-t24 r1c3-t24">52396</td>
<td align="left" headers="r12c1-t24 r1c4-t24">46476</td>
<td align="left" headers="r12c1-t24 r1c5-t24">5920</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r13c1-t24" headers="r1c1-t24"><code>Jul-05</code></td>
<td align="left" headers="r13c1-t24 r1c2-t24">CY2005.Q3</td>
<td align="left" headers="r13c1-t24 r1c3-t24">45595</td>
<td align="left" headers="r13c1-t24 r1c4-t24">47476</td>
<td align="left" headers="r13c1-t24 r1c5-t24">-1881</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r14c1-t24" headers="r1c1-t24"><code>Aug-05</code></td>
<td align="left" headers="r14c1-t24 r1c2-t24">CY2005.Q3</td>
<td align="left" headers="r14c1-t24 r1c3-t24">46882</td>
<td align="left" headers="r14c1-t24 r1c4-t24">47496</td>
<td align="left" headers="r14c1-t24 r1c5-t24">-614</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r15c1-t24" headers="r1c1-t24"><code>Sep-05</code></td>
<td align="left" headers="r15c1-t24 r1c2-t24">CY2005.Q3</td>
<td align="left" headers="r15c1-t24 r1c3-t24">46476</td>
<td align="left" headers="r15c1-t24 r1c4-t24">50090</td>
<td align="left" headers="r15c1-t24 r1c5-t24">-3614</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r16c1-t24" headers="r1c1-t24"><code>Oct-05</code></td>
<td align="left" headers="r16c1-t24 r1c2-t24">CY2005.Q4</td>
<td align="left" headers="r16c1-t24 r1c3-t24">47476</td>
<td align="left" headers="r16c1-t24 r1c4-t24">47776</td>
<td align="left" headers="r16c1-t24 r1c5-t24">-300</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r17c1-t24" headers="r1c1-t24"><code>Nov-05</code></td>
<td align="left" headers="r17c1-t24 r1c2-t24">CY2005.Q4</td>
<td align="left" headers="r17c1-t24 r1c3-t24">47496</td>
<td align="left" headers="r17c1-t24 r1c4-t24">47695</td>
<td align="left" headers="r17c1-t24 r1c5-t24">-199</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r18c1-t24" headers="r1c1-t24"><code>Dec-05</code></td>
<td align="left" headers="r18c1-t24 r1c2-t24">CY2005.Q4</td>
<td align="left" headers="r18c1-t24 r1c3-t24">50090</td>
<td align="left" headers="r18c1-t24 r1c4-t24">51348</td>
<td align="left" headers="r18c1-t24 r1c5-t24">-1258</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p class="titleinrefsubsect"><a id="sthref227" name="sthref227"></a>Related Topics</p>
<p><a href="olap_functions012.htm#CIHIEIEA">LAG</a>, <a href="olap_functions015.htm#CIHGEABE">LEAD</a>, <a href="olap_functions017.htm#CIHDAEBF">LEAD_VARIANCE_PERCENT</a></p>
</div>
</html>