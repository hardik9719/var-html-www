<html><h1 class="refsect1">LEAD_VARIANCE_PERCENT</h1>
<p><code>LEAD_VARIANCE_PERCENT</code> returns the percent difference between values for the current time period and the offset period.</p>
<p class="titleinrefsubsect"><a id="sthref228" name="sthref228"></a>Return Value</p>
<p>The same data type as the value expression</p>
<p class="titleinrefsubsect"><a id="sthref229" name="sthref229"></a>Syntax</p>
<pre xml:space="preserve" class="oac_no_warn"><span class="bold">LEAD_VARIANCE_PERCENT (</span>lead_args<span class="bold">) OVER (</span>lead_clause<span class="bold">)</span>
</pre>
<p><span class="bolditalic">lead_args</span>::=</p>
<pre xml:space="preserve" class="oac_no_warn">expression, offset [, {default_expression | <span class="bold">CLOSEST</span>} ]
</pre>
<p><span class="bolditalic">lead_clause</span>::=</p>
<pre xml:space="preserve" class="oac_no_warn">[ {<span class="bold">DIMENSION</span> dimension_id | <span class="bold">HIERARCHY</span> hierarchy_id} ]
[ [<span class="bold">BY</span>] { <span class="bold">LEVEL</span> 
       | <span class="bold">PARENT</span> 
       | <span class="bold">GREGORIAN</span> {<span class="bold">YEAR</span> | <span class="bold">QUARTER</span> | <span class="bold">MONTH</span> | <span class="bold">WEEK</span> | <span class="bold">DAY</span>}
       | <span class="bold">ANCESTOR AT</span> { <span class="bold">DIMENSION LEVEL</span> dim_level_id
                      | <span class="bold">HIERARCHY LEVEL</span> hier_level_id
                      }
       }
                [<span class="bold">POSITION FROM</span> {<span class="bold">BEGINNING</span> | <span class="bold">END</span>}] 
] 
</pre>
<p class="titleinrefsubsect"><a id="sthref230" name="sthref230"></a>Arguments</p>
<p class="subhead2"><a id="OLAXS294" name="OLAXS294"></a><a id="sthref231" name="sthref231"></a><span class="italic">expression</span></p>
<p>A dimensional expression whose values you want to calculate.</p>
<p class="subhead2"><a id="OLAXS295" name="OLAXS295"></a><a id="sthref232" name="sthref232"></a><span class="italic">offset</span></p>
<p>A numeric expression for the number of periods to count forward from the current time period.</p>
<p class="subhead2"><a id="OLAXS296" name="OLAXS296"></a><a id="sthref233" name="sthref233"></a><span class="italic">default_expression</span></p>
<p>The value returned when <code><span class="codeinlineitalic">offset</span></code> does not identify a valid period. This clause is either an expression of any data type or the <code>CLOSEST</code> keyword for the closest match. The closest match is the first member when counting forward.</p>
<p class="subhead2"><a id="OLAXS297" name="OLAXS297"></a><a id="sthref234" name="sthref234"></a><span class="italic">dimension_id</span></p>
<p>The Time dimension over which the lead is calculated.</p>
<p class="subhead2"><a id="OLAXS298" name="OLAXS298"></a><a id="sthref235" name="sthref235"></a><span class="italic">hierarchy_id</span></p>
<p>The hierarchy over which the lead is calculated. Otherwise, the default hierarchy for <code><span class="codeinlineitalic">dimension_id</span></code> is used.</p>
<p class="subhead2"><a id="OLAXS299" name="OLAXS299"></a><a id="sthref236" name="sthref236"></a><span class="italic">dim_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">dimension_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS300" name="OLAXS300"></a><a id="sthref237" name="sthref237"></a><span class="italic">hier_level_id</span></p>
<p>The name of a level of <code><span class="codeinlineitalic">hierarchy_id</span></code>.</p>
<p class="subhead2"><a id="OLAXS301" name="OLAXS301"></a><a id="sthref238" name="sthref238"></a>BY subclause</p>
<p>The BY subclause identifies the range of time periods used when counting the offset. Following are descriptions of the keywords:</p>
<div class="inftblinformal">
<table class="Informal" title="LEAD_VARIANCE_PERCENT Offset Units" summary="Offset units in LEAD BY clause" dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="32%" />
<col width="*" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t25">Offset Unit</th>
<th align="left" valign="bottom" id="r1c2-t25">Description</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t25" headers="r1c1-t25"><code>LEVEL</code></td>
<td align="left" headers="r2c1-t25 r1c2-t25">The member at the same level <code><span class="codeinlineitalic">offset</span></code> periods after the current member. (Default)</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t25" headers="r1c1-t25"><code>PARENT</code></td>
<td align="left" headers="r3c1-t25 r1c2-t25">The member at the same level with the same parent <code><span class="codeinlineitalic">offset</span></code> periods after the current member.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t25" headers="r1c1-t25"><code>GREGORIAN YEAR</code></td>
<td align="left" headers="r4c1-t25 r1c2-t25">The period at the same level with a start date exactly <code>offset</code> years after the start date of the current period.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t25" headers="r1c1-t25"><code>GREGORIAN QUARTER</code></td>
<td align="left" headers="r5c1-t25 r1c2-t25">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> quarters after the start date of the current period.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t25" headers="r1c1-t25"><code>GREGORIAN MONTH</code></td>
<td align="left" headers="r6c1-t25 r1c2-t25">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> months after the start date of the current period.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t25" headers="r1c1-t25"><code>GREGORIAN WEEK</code></td>
<td align="left" headers="r7c1-t25 r1c2-t25">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> weeks after the start date of the current period.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r8c1-t25" headers="r1c1-t25"><code>GREGORIAN DAY</code></td>
<td align="left" headers="r8c1-t25 r1c2-t25">The period at the same level with a start date exactly <code><span class="codeinlineitalic">offset</span></code> days after the start date of the current period.</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r9c1-t25" headers="r1c1-t25"><code>ANCESTOR</code></td>
<td align="left" headers="r9c1-t25 r1c2-t25">The period at the same level as the current period and whose ancestor is <code><span class="codeinlineitalic">offset</span></code> positions after the ancestor of the current period.</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p class="titleinrefsubsect"><a id="sthref239" name="sthref239"></a>Example</p>
<p>This calculation returns the percent difference between the current value and the value of the next time period based on calendar quarter. The sample output from this calculation appears in the Percent column.</p>
<p><code>LEAD_VARIANCE_PERCENT (GLOBAL.UNITS_CUBE.UNITS, 1, CLOSEST) OVER (DIMENSION GLOBAL.TIME BY ANCESTOR AT DIMENSION LEVEL GLOBAL.TIME.CALENDAR_QUARTER)</code></p>
<div class="inftblinformal">
<table class="Informal" title="LEAD_VARIANCE_PERCENT Example" summary="Output from LEAD_VARIANCE_PERCENT example" dir="ltr" border="1" width="100%" frame="hsides" rules="groups" cellpadding="3" cellspacing="0">
<col width="*" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<col width="17%" />
<thead>
<tr align="left" valign="top">
<th align="left" valign="bottom" id="r1c1-t26">Time</th>
<th align="left" valign="bottom" id="r1c2-t26">Parent</th>
<th align="left" valign="bottom" id="r1c3-t26">Units</th>
<th align="left" valign="bottom" id="r1c4-t26">Next Qtr</th>
<th align="left" valign="bottom" id="r1c5-t26">Difference</th>
<th align="left" valign="bottom" id="r1c6-t26">Percent</th>
</tr>
</thead>
<tbody>
<tr align="left" valign="top">
<td align="left" id="r2c1-t26" headers="r1c1-t26"><code>2005</code></td>
<td align="left" headers="r2c1-t26 r1c2-t26">TOTAL</td>
<td align="left" headers="r2c1-t26 r1c3-t26">565718</td>
<td align="left" headers="r2c1-t26 r1c4-t26">--</td>
<td align="left" headers="r2c1-t26 r1c5-t26">--</td>
<td align="left" headers="r2c1-t26 r1c6-t26">--</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r3c1-t26" headers="r1c1-t26"><code>Q1-05</code></td>
<td align="left" headers="r3c1-t26 r1c2-t26">CY2005</td>
<td align="left" headers="r3c1-t26 r1c3-t26">143607</td>
<td align="left" headers="r3c1-t26 r1c4-t26">138096</td>
<td align="left" headers="r3c1-t26 r1c5-t26">5511</td>
<td align="left" headers="r3c1-t26 r1c6-t26">.04</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r4c1-t26" headers="r1c1-t26"><code>Q2-05</code></td>
<td align="left" headers="r4c1-t26 r1c2-t26">CY2005</td>
<td align="left" headers="r4c1-t26 r1c3-t26">138096</td>
<td align="left" headers="r4c1-t26 r1c4-t26">138953</td>
<td align="left" headers="r4c1-t26 r1c5-t26">-857</td>
<td align="left" headers="r4c1-t26 r1c6-t26">-.01</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r5c1-t26" headers="r1c1-t26"><code>Q3-05</code></td>
<td align="left" headers="r5c1-t26 r1c2-t26">CY2005</td>
<td align="left" headers="r5c1-t26 r1c3-t26">138953</td>
<td align="left" headers="r5c1-t26 r1c4-t26">145062</td>
<td align="left" headers="r5c1-t26 r1c5-t26">-6109</td>
<td align="left" headers="r5c1-t26 r1c6-t26">-.04</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r6c1-t26" headers="r1c1-t26"><code>Q4-05</code></td>
<td align="left" headers="r6c1-t26 r1c2-t26">CY2005</td>
<td align="left" headers="r6c1-t26 r1c3-t26">145062</td>
<td align="left" headers="r6c1-t26 r1c4-t26">146819</td>
<td align="left" headers="r6c1-t26 r1c5-t26">-1757</td>
<td align="left" headers="r6c1-t26 r1c6-t26">-.01</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r7c1-t26" headers="r1c1-t26"><code>Jan-05</code></td>
<td align="left" headers="r7c1-t26 r1c2-t26">CY2005.Q1</td>
<td align="left" headers="r7c1-t26 r1c3-t26">50098</td>
<td align="left" headers="r7c1-t26 r1c4-t26">40223</td>
<td align="left" headers="r7c1-t26 r1c5-t26">9875</td>
<td align="left" headers="r7c1-t26 r1c6-t26">.25</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r8c1-t26" headers="r1c1-t26"><code>Feb-05</code></td>
<td align="left" headers="r8c1-t26 r1c2-t26">CY2005.Q1</td>
<td align="left" headers="r8c1-t26 r1c3-t26">43990</td>
<td align="left" headers="r8c1-t26 r1c4-t26">45477</td>
<td align="left" headers="r8c1-t26 r1c5-t26">-1487</td>
<td align="left" headers="r8c1-t26 r1c6-t26">-.03</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r9c1-t26" headers="r1c1-t26"><code>Mar-05</code></td>
<td align="left" headers="r9c1-t26 r1c2-t26">CY2005.Q1</td>
<td align="left" headers="r9c1-t26 r1c3-t26">49519</td>
<td align="left" headers="r9c1-t26 r1c4-t26">52396</td>
<td align="left" headers="r9c1-t26 r1c5-t26">-2877</td>
<td align="left" headers="r9c1-t26 r1c6-t26">-.05</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r10c1-t26" headers="r1c1-t26"><code>Apr-05</code></td>
<td align="left" headers="r10c1-t26 r1c2-t26">CY2005.Q2</td>
<td align="left" headers="r10c1-t26 r1c3-t26">40223</td>
<td align="left" headers="r10c1-t26 r1c4-t26">45595</td>
<td align="left" headers="r10c1-t26 r1c5-t26">-5372</td>
<td align="left" headers="r10c1-t26 r1c6-t26">-.12</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r11c1-t26" headers="r1c1-t26"><code>May-05</code></td>
<td align="left" headers="r11c1-t26 r1c2-t26">CY2005.Q2</td>
<td align="left" headers="r11c1-t26 r1c3-t26">45477</td>
<td align="left" headers="r11c1-t26 r1c4-t26">46882</td>
<td align="left" headers="r11c1-t26 r1c5-t26">-1405</td>
<td align="left" headers="r11c1-t26 r1c6-t26">-.03</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r12c1-t26" headers="r1c1-t26"><code>Jun-05</code></td>
<td align="left" headers="r12c1-t26 r1c2-t26">CY2005.Q2</td>
<td align="left" headers="r12c1-t26 r1c3-t26">52396</td>
<td align="left" headers="r12c1-t26 r1c4-t26">46476</td>
<td align="left" headers="r12c1-t26 r1c5-t26">5920</td>
<td align="left" headers="r12c1-t26 r1c6-t26">.13</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r13c1-t26" headers="r1c1-t26"><code>Jul-05</code></td>
<td align="left" headers="r13c1-t26 r1c2-t26">CY2005.Q3</td>
<td align="left" headers="r13c1-t26 r1c3-t26">45595</td>
<td align="left" headers="r13c1-t26 r1c4-t26">47476</td>
<td align="left" headers="r13c1-t26 r1c5-t26">-1881</td>
<td align="left" headers="r13c1-t26 r1c6-t26">-.04</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r14c1-t26" headers="r1c1-t26"><code>Aug-05</code></td>
<td align="left" headers="r14c1-t26 r1c2-t26">CY2005.Q3</td>
<td align="left" headers="r14c1-t26 r1c3-t26">46882</td>
<td align="left" headers="r14c1-t26 r1c4-t26">47496</td>
<td align="left" headers="r14c1-t26 r1c5-t26">-614</td>
<td align="left" headers="r14c1-t26 r1c6-t26">-.01</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r15c1-t26" headers="r1c1-t26"><code>Sep-05</code></td>
<td align="left" headers="r15c1-t26 r1c2-t26">CY2005.Q3</td>
<td align="left" headers="r15c1-t26 r1c3-t26">46476</td>
<td align="left" headers="r15c1-t26 r1c4-t26">50090</td>
<td align="left" headers="r15c1-t26 r1c5-t26">-3614</td>
<td align="left" headers="r15c1-t26 r1c6-t26">-.07</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r16c1-t26" headers="r1c1-t26"><code>Oct-05</code></td>
<td align="left" headers="r16c1-t26 r1c2-t26">CY2005.Q4</td>
<td align="left" headers="r16c1-t26 r1c3-t26">47476</td>
<td align="left" headers="r16c1-t26 r1c4-t26">47776</td>
<td align="left" headers="r16c1-t26 r1c5-t26">-300</td>
<td align="left" headers="r16c1-t26 r1c6-t26">-.01</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r17c1-t26" headers="r1c1-t26"><code>Nov-05</code></td>
<td align="left" headers="r17c1-t26 r1c2-t26">CY2005.Q4</td>
<td align="left" headers="r17c1-t26 r1c3-t26">47496</td>
<td align="left" headers="r17c1-t26 r1c4-t26">47695</td>
<td align="left" headers="r17c1-t26 r1c5-t26">-199</td>
<td align="left" headers="r17c1-t26 r1c6-t26">0</td>
</tr>
<tr align="left" valign="top">
<td align="left" id="r18c1-t26" headers="r1c1-t26"><code>Dec-05</code></td>
<td align="left" headers="r18c1-t26 r1c2-t26">CY2005.Q4</td>
<td align="left" headers="r18c1-t26 r1c3-t26">50090</td>
<td align="left" headers="r18c1-t26 r1c4-t26">51348</td>
<td align="left" headers="r18c1-t26 r1c5-t26">-1258</td>
<td align="left" headers="r18c1-t26 r1c6-t26">-.02</td>
</tr>
</tbody>
</table>
<br /></div>
<!-- class="inftblinformal" -->
<p class="titleinrefsubsect"><a id="sthref240" name="sthref240"></a>Related Topics</p>
<p><a href="olap_functions012.htm#CIHIEIEA">LAG</a>, <a href="olap_functions015.htm#CIHGEABE">LEAD</a>, <a href="olap_functions016.htm#CIHBGJED">LEAD_VARIANCE</a></p>
</div>
</html>